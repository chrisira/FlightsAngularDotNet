{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet RegisterPassengerComponent = class RegisterPassengerComponent {\n  constructor(passengerService, fb, authService, router) {\n    this.passengerService = passengerService;\n    this.fb = fb;\n    this.authService = authService;\n    this.router = router;\n    this.form = this.fb.group({\n      email: ['', Validators.compose([Validators.required, Validators.email, Validators.min(3), Validators.max(254)])],\n      firstName: ['', Validators.compose([Validators.required, Validators.min(3), Validators.max(254)])],\n      lastName: ['', Validators.compose([Validators.required, Validators.min(3), Validators.max(254)])],\n      isFemale: [true, Validators.required]\n    });\n    this.login = () => {\n      this.authService.loginUser({\n        email: this.form.get('email')?.value\n      });\n      this.router.navigate(['/search-flight']);\n    };\n  }\n  ngOnInit() {}\n  checkPassenger() {\n    const params = {\n      email: this.form.get('email')?.value\n    };\n    this.passengerService.findPassenger$Json(params).subscribe(this.login, e => {\n      if (e.status != 404) {\n        console.error(e);\n      }\n    });\n  }\n  register() {\n    if (this.form.invalid) {\n      return;\n    }\n    //console.log(\"Form values :\",this.form.value)\n    this.passengerService.registerPassenger({\n      body: this.form.value\n    }).subscribe(this.login, console.error);\n  }\n  get formEmail() {\n    return this.form.controls.email;\n  }\n  get formFirstName() {\n    return this.form.controls.firstName;\n  }\n  get formLastName() {\n    return this.form.controls.lastName;\n  }\n  get formGender() {\n    return this.form.controls.isFemale;\n  }\n};\nRegisterPassengerComponent = __decorate([Component({\n  selector: 'app-register-passenger',\n  templateUrl: './register-passenger.component.html',\n  styleUrls: ['./register-passenger.component.css']\n})], RegisterPassengerComponent);\nexport { RegisterPassengerComponent };","map":{"version":3,"mappings":"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","names":["Component","Validators","RegisterPassengerComponent","constructor","passengerService","fb","authService","router","group","email","compose","required","min","max","firstName","lastName","isFemale","loginUser","form","get","value","navigate","ngOnInit","checkPassenger","params","findPassenger$Json","subscribe","login","e","status","console","error","register","invalid","registerPassenger","body","formEmail","controls","formFirstName","formLastName","formGender","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Bishop\\Documents\\angular projects\\FlightsAngularNet\\FlightsAngularNet\\ClientApp\\src\\app\\register-passenger\\register-passenger.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PassengerService } from '../api/services/passenger.service';\nimport { FormBuilder,Validators } from '@angular/forms'\nimport { AuthService } from '../auth/auth.service';\r\nimport { Router } from '@angular/router';\r\n\n@Component({\n  selector: 'app-register-passenger',\n  templateUrl: './register-passenger.component.html',\n  styleUrls: ['./register-passenger.component.css']\n})\nexport class RegisterPassengerComponent implements OnInit {\r\n\r\n  constructor(private passengerService: PassengerService, private fb: FormBuilder\r\n  ,private authService:AuthService,private router:Router) {\r\n\r\n  }\r\n  form = this.fb.group({\r\n    email: ['', Validators.compose([Validators.required, Validators.email, Validators.min(3), Validators.max(254)])],\r\n    firstName: ['', Validators.compose([Validators.required, Validators.min(3), Validators.max(254)])],\r\n    lastName: ['', Validators.compose([Validators.required, Validators.min(3), Validators.max(254)])],\r\n    isFemale: [true, Validators.required]\r\n  })\r\n  ngOnInit(): void { }\r\n\r\n  checkPassenger(): void {\r\n    const params = { email: this.form.get('email')?.value! }\r\n    this.passengerService.findPassenger$Json(params).subscribe(this.login, e => {\r\n      if (e.status != 404) {\r\n        console.error(e)\r\n      }\r\n    });\r\n  }\r\n        \r\n    \n  register() {\n    if (this.form.invalid) {\n      return;\r\n    }\n    \n    //console.log(\"Form values :\",this.form.value)\n    this.passengerService.registerPassenger({ body: this.form.value })\r\n      .subscribe(this.login, console.error);\r\n  }\n\n  login = () => {\n    this.authService.loginUser({ email: this.form.get('email')?.value! })\n    this.router.navigate(['/search-flight'])\n\r\n  }\n\n  get formEmail() {\n    return this.form.controls.email;\r\n  }\n  get formFirstName() {\n    return this.form.controls.firstName;\r\n  }\n  get formLastName() {\n    return this.form.controls.lastName;\r\n  }\n  get formGender() {\n    return this.form.controls.isFemale;\r\n  }\n\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}