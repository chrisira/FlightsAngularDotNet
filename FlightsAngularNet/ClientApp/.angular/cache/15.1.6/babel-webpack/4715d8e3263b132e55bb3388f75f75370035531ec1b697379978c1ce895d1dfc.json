{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../api/services/flights.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/book-flight\", a1];\n};\nfunction SearchFlightsComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 19)(2, \"div\", 20)(3, \"strong\")(4, \"h6\", 21);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 23)(9, \"div\", 24)(10, \"div\", 4)(11, \"div\", 25);\n    i0.ɵɵelement(12, \"i\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 4)(14, \"i\", 27);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 28);\n    i0.ɵɵelement(17, \"i\", 29);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 28);\n    i0.ɵɵelement(21, \"i\", 30);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(24, \"div\", 4)(25, \"div\", 31);\n    i0.ɵɵelement(26, \"i\", 32)(27, \"hr\", 33)(28, \"i\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"i\", 35);\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(31, \"br\");\n    i0.ɵɵelementStart(32, \"a\", 36);\n    i0.ɵɵelement(33, \"i\", 37);\n    i0.ɵɵtext(34, \"Book\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 4)(36, \"div\", 25);\n    i0.ɵɵelement(37, \"i\", 38);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 4)(39, \"i\", 27);\n    i0.ɵɵtext(40);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(41, \"div\", 28);\n    i0.ɵɵelement(42, \"i\", 29);\n    i0.ɵɵtext(43);\n    i0.ɵɵpipe(44, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"div\", 28);\n    i0.ɵɵelement(46, \"i\", 30);\n    i0.ɵɵtext(47);\n    i0.ɵɵpipe(48, \"date\");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const flights_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(flights_r1.airline);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", flights_r1.remainingNumberOfSeats, \" Remaining Seats\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", flights_r1.departure == null ? null : flights_r1.departure.place, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 10, flights_r1.departure == null ? null : flights_r1.departure.time), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(23, 12, flights_r1.departure == null ? null : flights_r1.departure.time, \"shortTime\"), \" \");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(flights_r1.price);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(20, _c0, flights_r1.id));\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", flights_r1.arrival == null ? null : flights_r1.arrival.place, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(44, 15, flights_r1.arrival == null ? null : flights_r1.arrival.time), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(48, 17, flights_r1.arrival == null ? null : flights_r1.arrival.time, \"shortTime\"), \" \");\n  }\n}\nexport class SearchFlightsComponent {\n  // adding a constructor\n  constructor(flightsService, fb) {\n    this.flightsService = flightsService;\n    this.fb = fb;\n    this.SearchResult = [];\n    this.searchForm = this.fb.group({\n      source: [''],\n      destination: [''],\n      fromDate: [''],\n      toDate: [''],\n      numberOfPassengers: [1]\n    });\n  }\n  search() {\n    this.flightsService.searchFlights$Json({}).subscribe(response => this.SearchResult = response, this.HandleError);\n  }\n  HandleError(err) {\n    console.log(\"error status code \" + err.status);\n    console.log(\"error status Message \" + err.statusText);\n    console.log(err);\n  }\n}\nSearchFlightsComponent.ɵfac = function SearchFlightsComponent_Factory(t) {\n  return new (t || SearchFlightsComponent)(i0.ɵɵdirectiveInject(i1.FlightsService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nSearchFlightsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchFlightsComponent,\n  selectors: [[\"app-search-flights\"]],\n  decls: 40,\n  vars: 2,\n  consts: [[1, \"text-md-center\", \"m-5\"], [3, \"formGroup\", \"ngSubmit\"], [\"d-grid\", \"\", \"gap-3\", \"\", 1, \"m-5\"], [1, \"row\", \"m-1\"], [1, \"col\"], [1, \"form-floating\"], [\"type\", \"text\", \"formControlName\", \"from\", \"placeholder\", \"From\", 1, \"form-control\"], [1, \"text-primary\", \"form-label\"], [\"type\", \"text\", \"placeholder\", \"Destination\", 1, \"form-control\"], [\"type\", \"date\", \"placeholder\", \"From\", 1, \"form-control\"], [\"type\", \"date\", \"placeholder\", \"Destination\", 1, \"form-control\"], [1, \"col\", \"text-end\"], [1, \"text-primary\", \"form-label\", \"mt-2\"], [1, \"input-group\"], [1, \"input-group-text\"], [\"type\", \"number\", \"placeholder\", \"1\", \"min\", \"1\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"fas\", \"fa-search\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"text-dark\", \"mt-5\", \"text-center\", 2, \"background-color\", \"cornsilk\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-title\", 2, \"color\", \"brown\"], [1, \"d-grid\", \"text-center\", \"g-2\"], [1, \"row\"], [1, \"col\", \"m-3\"], [1, \"text-primary\", \"fas\", \"fa-plane-departure\", 2, \"font-size\", \"20px\"], [1, \"fa-solid\", \"fa-location-dot\"], [1, \"col\", \"m-2\"], [1, \"fa-regular\"], [1, \"fa-regular\", \"fa-clock\"], [2, \"display\", \"flex\"], [1, \"fa-solid\", \"fa-circle\", 2, \"margin-top\", \"50px\", \"font-size\", \"9px\"], [2, \"display\", \"block\", \"width\", \"100%\", \"margin-top\", \"55px\"], [1, \"fas\", \"fa-plane\", 2, \"margin-top\", \"48px\"], [1, \"fas\", \"fa-usd\"], [1, \"btn\", \"btn-secondary\", \"btn-lg\", \"mt-2\", \"mb-3\", 3, \"routerLink\"], [1, \"fas\", \"fa-ticket\"], [1, \"text-primary\", \"fas\", \"fa-plane-arrival\", 2, \"font-size\", \"20px\"]],\n  template: function SearchFlightsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h5\", 0);\n      i0.ɵɵtext(1, \"Search for flights\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function SearchFlightsComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.search;\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5);\n      i0.ɵɵelement(7, \"input\", 6);\n      i0.ɵɵelementStart(8, \"label\", 7);\n      i0.ɵɵtext(9, \"From\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"div\", 5);\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementStart(13, \"label\", 7);\n      i0.ɵɵtext(14, \"To\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"div\", 4)(17, \"div\", 5);\n      i0.ɵɵelement(18, \"input\", 9);\n      i0.ɵɵelementStart(19, \"label\", 7);\n      i0.ɵɵtext(20, \"From date\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 5);\n      i0.ɵɵelement(23, \"input\", 10);\n      i0.ɵɵelementStart(24, \"label\", 7);\n      i0.ɵɵtext(25, \"To Date\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"div\", 3)(27, \"div\", 11)(28, \"label\", 12);\n      i0.ɵɵtext(29, \"Number of passengers\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 4)(31, \"div\", 13)(32, \"div\", 14);\n      i0.ɵɵtext(33, \" For \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(34, \"input\", 15);\n      i0.ɵɵelementStart(35, \"div\", 14);\n      i0.ɵɵtext(36, \"Passengers\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"button\", 16);\n      i0.ɵɵelement(38, \"i\", 17);\n      i0.ɵɵelementEnd()()()()()()();\n      i0.ɵɵtemplate(39, SearchFlightsComponent_div_39_Template, 49, 22, \"div\", 18);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.searchForm);\n      i0.ɵɵadvance(37);\n      i0.ɵɵproperty(\"ngForOf\", ctx.SearchResult);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.RouterLink, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SearchFlightsComponent","constructor","flightsService","fb","group","source","destination","fromDate","toDate","numberOfPassengers","search","searchFlights$Json","subscribe","response","SearchResult","HandleError","err","console","log","status","statusText","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Bishop\\Documents\\angular projects\\FlightsAngularNet\\FlightsAngularNet\\ClientApp\\src\\app\\search-flights\\search-flights.component.html","C:\\Users\\Bishop\\Documents\\angular projects\\FlightsAngularNet\\FlightsAngularNet\\ClientApp\\src\\app\\search-flights\\search-flights.component.ts"],"sourcesContent":["\n\n<h5 class=\"text-md-center m-5\">Search for flights</h5>\n<form [formGroup]=\"searchForm\" (ngSubmit)=\"search\">\n  <div class=\"m-5\" d-grid gap-3>\n    <div class=\"row m-1\">\n\n      <div class=\"col\">\n        <div class=\"form-floating\">\n          <input type=\"text\" formControlName=\"from\" class=\"form-control\" placeholder=\"From\" />\n          <label class=\"text-primary form-label\">From</label>\n        </div>\n      </div>\n\n      <div class=\"col\">\n        <div class=\"form-floating\">\n          <input type=\"text\" class=\"form-control\" placeholder=\"Destination\" />\n          <label class=\"text-primary form-label\">To</label>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"row m-1\">\n\n      <div class=\"col\">\n        <div class=\"form-floating\">\n          <input type=\"date\" class=\"form-control\" placeholder=\"From\" />\n          <label class=\"text-primary form-label\">From date</label>\n        </div>\n      </div>\n\n      <div class=\"col\">\n        <div class=\"form-floating\">\n          <input type=\"date\" class=\"form-control\" placeholder=\"Destination\" />\n          <label class=\"text-primary form-label\">To Date</label>\n        </div>\n      </div>\n\n      <div class=\"row m-1\">\n        <div class=\"col text-end\">\n          <label class=\"text-primary form-label mt-2\">Number of passengers</label>\n\n        </div>\n        <div class=\"col\">\n          <div class=\"input-group\">\n            <div class=\"input-group-text\">\n              For\n            </div>\n            <input class=\"form-control\" type=\"number\" placeholder=\"1\" min=\"1\" />\n            <div class=\"input-group-text\">Passengers</div>\n            <button type=\"submit\" class=\"btn btn-primary\"><i class=\"fas fa-search\"></i>  </button>\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</form>\n\n\n\n\n<div *ngFor=\"let flights of SearchResult\">\n  <div class=\"card text-dark mt-5 text-center\" style=\"background-color:cornsilk;\">\n    <div class=\"card-body\">\n      <strong><h6 class=\"card-title\">{{ flights.airline }}</h6></strong>\n      <div class=\"card-title\" style=\"color:brown\">{{ flights.remainingNumberOfSeats }} Remaining Seats</div>\n    </div>\n    <div class=\"d-grid text-center g-2\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <div class=\"col m-3\">\n            <i class=\"text-primary fas fa-plane-departure\" style=\"font-size:20px\"></i>\n          </div>\n          <div class=\"col\">\n            <i class=\"fa-solid fa-location-dot\">\n              {{ flights.departure?.place }}\n            </i>\n          </div>\n          <div class=\"col m-2\">\n            <i class=\"fa-regular\"></i>\n            {{ flights.departure?.time | date }}\n          </div>\n          <div class=\"col m-2\">\n            <i class=\"fa-regular fa-clock\"></i>\n            {{ flights.departure?.time | date :'shortTime' }}\n          </div>\n\n        </div>\n        <div class=\"col\">\n          <div style=\"display:flex;\">\n            <i class=\"fa-solid fa-circle\" style=\"margin-top:50px;font-size:9px;\"></i>\n            <hr style=\"display:block; width:100%;margin-top:55px;\" />\n            <i class=\"fas fa-plane\" style=\"margin-top:48px;\"></i>\n          </div>\n          <i class=\"fas fa-usd\">{{ flights.price }}</i>\n          <br />\n          <a [routerLink]=\"['/book-flight',flights.id]\" class=\"btn btn-secondary btn-lg mt-2 mb-3\"> <i class=\"fas fa-ticket\"></i>Book</a>\n        </div>\n        <div class=\"col\">\n          <div class=\"col m-3\">\n            <i class=\"text-primary fas fa-plane-arrival\" style=\"font-size:20px\"></i>\n          </div>\n          <div class=\"col\">\n            <i class=\"fa-solid fa-location-dot\">\n              {{ flights.arrival?.place }}\n            </i>\n          </div>\n          <div class=\"col m-2\">\n            <i class=\"fa-regular\"></i>\n            {{ flights.arrival?.time | date }}\n          </div>\n          <div class=\"col m-2\">\n            <i class=\"fa-regular fa-clock\"></i>\n            {{ flights.arrival?.time | date :'shortTime' }}\n          </div>\n        </div>\n      </div>\n     \n    </div>\n\n  </div>\n</div>\n","import { Component } from '@angular/core';\n//importing the flight services from the api\nimport { FlightsService } from './../api/services/flights.service'\n\n// importing the Flights Read Model\nimport { FlightsRm } from '../api/models';\nimport { FormBuilder } from '@angular/forms';\r\n\n@Component({\n  selector: 'app-search-flights',\n  templateUrl: './search-flights.component.html',\n  styleUrls: ['./search-flights.component.css']\n})\nexport class SearchFlightsComponent {\n\n  SearchResult: FlightsRm[] = []\n\n  // adding a constructor\n\n  constructor(private flightsService: FlightsService, private fb: FormBuilder) {\n\r\n  }\n  searchForm = this.fb.group({\n    source: [''],\n    destination: [''],\n    fromDate: [''],\n    toDate: [''],\n    numberOfPassengers:[1]\n\r\n  })\n\n  search() {\n    this.flightsService.searchFlights$Json({}).subscribe(response => this.SearchResult = response, this.HandleError);\n    \r\n  }\n  private HandleError(err: any) {\n    console.log(\"error status code \" + err.status);\n    console.log(\"error status Message \" + err.statusText);\n    console.log(err)\r\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}